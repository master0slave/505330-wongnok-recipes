{% include 'layout.html' %}

<div class="container">
    <div class="card">
        <div class="card-header">
            Let's Edit Your Recipe!
        </div>
        <div class="card-body">
            <!-- Update form action to the specific route for editing recipes in your FastAPI app -->
            <form method="POST" action="/recipes/edit/{{recipe.id}}" enctype="multipart/form-data">
                <div class="form-group">
                    <label>ชื่อเมนู*</label>
                    <input type="text" class="form-control" name="title" value="{{recipe.title}}" required>
                </div>
                <div class="form-group">
                    <label>วัตถุดิบ*</label>
                    <textarea name="ingredients" class="form-control" rows="3" required>{{recipe.ingredients}}</textarea>
                </div>
                <div class="form-group">
                    <label>ขั้นตอน*</label>
                    <textarea name="instructions" class="form-control" rows="3" required>{{recipe.instructions}}</textarea>
                </div>
                <div class="form-group">
                    <label>เวลาที่ใช้ทำอาหาร*</label><br>
                    <select class="form-control" name="cook_time" required>
                        <option value="" {{ 'selected' if recipe.cook_time == '' }}>Select Cook Time</option>
                        <option value="5-10 mins" {{ 'selected' if recipe.cook_time == '5-10 mins' }}>5-10 mins</option>
                        <option value="11-30 mins" {{ 'selected' if recipe.cook_time == '11-30 mins' }}>11-30 mins</option>
                        <option value="31-60 mins" {{ 'selected' if recipe.cook_time == '31-60 mins' }}>31-60 mins</option>
                        <option value="60+ mins" {{ 'selected' if recipe.cook_time == '60+ mins' }}>60+ mins</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>ระดับความยากงานของสูตร*</label>
                    <select class="form-control" name="difficulty" required>
                        <option value="" {{ 'selected' if recipe.difficulty == '' }}>Select Difficulty</option>
                        <option value="Easy" {{ 'selected' if recipe.difficulty == 'Easy' }}>Easy</option>
                        <option value="Moderate" {{ 'selected' if recipe.difficulty == 'Moderate' }}>Moderate</option>
                        <option value="Hard" {{ 'selected' if recipe.difficulty == 'Hard' }}>Hard</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="image">รูปภาพอาหาร (optional)</label>
                    <input type="file" class="form-control" id="image" name="image" accept="image/*">
                </div>
                <button type="submit" class="btn btn-primary">Update Recipe</button>
                <!-- Correct the delete button's action -->
                <button onclick="window.location.href='/recipes/delete/{{recipe.id}}'"
                        type="button" class="btn btn-danger">Delete Recipe</button>
            </form>
        </div>
    </div>
</div>
